{% extends 'base.html' %}

{% block content %}
    
<form action="/transactions/{{ transaction.id }}/edit" method="post">
    <div>
        <label for="merchant_id">Merchant:</label>
        <select id="merchant_id" name="merchant_id">
          {% for merchant in merchants %}
              <option value="{{ merchant.id }}"{% if transaction.merchant.id == merchant.id %}
                  selected
              {% endif %}>{{ merchant.name }}</option>
          {% endfor %}
        </select>
    </div>
    <div>
        <label for="tag_id">Tag:</label>
        <select id="tag_id" name="tag_id">
          {% for tag in tags %}
              <option value="{{ tag.id }}"{% if transaction.tag.id == tag.id %}
                  selected
              {% endif %}>{{ tag.name }}</option>
          {% endfor %}
        </select>
    </div>
    <div>
        <label for="amount">Amount (£):</label>
        <input type="number" step="0.01" id="amount" name="amount" placeholder="{{ '£{:,.2f}'.format(transaction.amount) }}" value="{{ transaction.amount }}" required>
    </div>
    <div>
        <label for="date">Date:</label>
        <input type="date" id="date" name="date" value="{{ transaction.date }}" required>
    </div>
    <div>
        <label for="time">Time</label>
        <input type="time" id="time" name="time" value="{{ transaction.time }}" required>
    </div>
    <button type="submit">Edit Transaction</button>
</form>

<form class="delete" action="/transactions/{{transaction.id}}/delete" method="POST">
    <button class="trash-button">Delete</button>
</form>
{% endblock content %}